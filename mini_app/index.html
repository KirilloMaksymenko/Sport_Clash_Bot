<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fitness Competition</title>

    <!-- Telegram Mini App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- –ù–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–µ –º–µ–Ω—é -->
        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="home">üè† –ì–æ–ª–æ–≤–Ω–∞</button>
            <button class="tab-btn" data-tab="map">üó∫Ô∏è –ö–∞—Ä—Ç–∞</button>
            <button class="tab-btn" data-tab="competitions">üèÜ –ó–º–∞–≥–∞–Ω–Ω—è</button>
            <button class="tab-btn" data-tab="rankings">üìä –†–µ–π—Ç–∏–Ω–≥</button>
        </nav>

        <!-- –ì–æ–ª–æ–≤–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ -->
        <div id="home" class="tab-content active">
            <div class="stats-card">
                <h2>üìä –¢–≤–æ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div class="stat-grid">
                    <div class="stat-item">
                        <div class="stat-value" id="total-distance">0 –∫–º</div>
                        <div class="stat-label">–í—Å—å–æ–≥–æ –ø—Ä–æ–π–¥–µ–Ω–æ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="total-steps">0</div>
                        <div class="stat-label">–ö—Ä–æ–∫—ñ–≤ —Å—å–æ–≥–æ–¥–Ω—ñ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="current-rank">ü•â</div>
                        <div class="stat-label">–ü–æ—Ç–æ—á–Ω–∏–π —Ä—ñ–≤–µ–Ω—å</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="total-points">0</div>
                        <div class="stat-label">–û—á–∫–∏</div>
                    </div>
                </div>
            </div>

            <div class="quick-actions">
                <button id="start-tracking" class="action-btn primary">
                    üéØ –ü–æ—á–∞—Ç–∏ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è
                </button>
                <button id="stop-tracking" class="action-btn secondary" disabled>
                    ‚èπÔ∏è –ó—É–ø–∏–Ω–∏—Ç–∏ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è
                </button>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –∫–∞—Ä—Ç–∏ -->
        <div id="map" class="tab-content">
            <div class="map-controls">
                <button id="center-location" class="map-btn">üìç –ú–æ—è –ø–æ–∑–∏—Ü—ñ—è</button>
                <button id="show-route" class="map-btn">üõ£Ô∏è –ú–∞—Ä—à—Ä—É—Ç</button>
            </div>
            <div id="leaflet-map"></div>
            <div class="distance-info">
                <span>–ü–æ—Ç–æ—á–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å: <strong id="current-speed">0 –∫–º/–≥–æ–¥</strong></span>
                <span>–ü—Ä–æ–π–¥–µ–Ω–æ –∑–∞ —Å–µ—Å—ñ—é: <strong id="session-distance">0 –∫–º</strong></span>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ –∑–º–∞–≥–∞–Ω—å -->
        <div id="competitions" class="tab-content">
            <h2>üèÜ –î–æ—Å—Ç—É–ø–Ω—ñ –∑–º–∞–≥–∞–Ω–Ω—è</h2>

            <div class="competition-types">
                <div class="comp-card sprint">
                    <div class="comp-icon">‚ö°</div>
                    <div class="comp-info">
                        <h3>Sprint –∑–∞–±—ñ–≥</h3>
                        <p>–®–≤–∏–¥–∫–∏–π –∑–∞–±—ñ–≥ –∑ –∑–∞–¥–∞–Ω–∏–º –º–∞—Ä—à—Ä—É—Ç–æ–º. –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å: 15-30 —Ö–≤</p>
                        <button class="join-btn" onclick="startCompetition('sprint')">
                            –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è
                        </button>
                    </div>
                </div>

                <div class="comp-card endurance">
                    <div class="comp-icon">üèÉ‚Äç‚ôÇÔ∏è</div>
                    <div class="comp-info">
                        <h3>Endurance –∑–∞–±—ñ–≥</h3>
                        <p>–ó–∞–±—ñ–≥ –Ω–∞ –≤–∏—Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å. –¢—Ä–∏–≤–∞–ª—ñ—Å—Ç—å: 1-2 –≥–æ–¥–∏–Ω–∏</p>
                        <button class="join-btn" onclick="startCompetition('endurance')">
                            –ü—Ä–∏—î–¥–Ω–∞—Ç–∏—Å—è
                        </button>
                    </div>
                </div>
            </div>

            <div id="active-competition" class="competition-status" style="display:none;">
                <h3>üî• –ê–∫—Ç–∏–≤–Ω–µ –∑–º–∞–≥–∞–Ω–Ω—è</h3>
                <div class="competition-info">
                    <p>–¢–∏–ø: <span id="comp-type"></span></p>
                    <p>–ß–∞—Å –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è: <span id="comp-timer"></span></p>
                    <p>–ü–æ–∑–∏—Ü—ñ—è: <span id="comp-position"></span></p>
                </div>
                <button id="finish-competition" class="action-btn">–ó–∞–≤–µ—Ä—à–∏—Ç–∏</button>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥—É -->
        <div id="rankings" class="tab-content">
            <h2>üìä –†–µ–π—Ç–∏–Ω–≥ –≥—Ä–∞–≤—Ü—ñ–≤</h2>

            <div class="rank-filter">
                <button class="filter-btn active" data-filter="group">üèòÔ∏è –ú–æ—è –≥—Ä—É–ø–∞</button>
                <button class="filter-btn" data-filter="global">üåç –ì–ª–æ–±–∞–ª—å–Ω–∏–π</button>
            </div>

            <div id="leaderboard" class="leaderboard">
                <!-- –°–ø–∏—Å–æ–∫ –ª—ñ–¥–µ—Ä—ñ–≤ –±—É–¥–µ –∑–∞–ø–æ–≤–Ω–µ–Ω–∏–π JavaScript -->
            </div>

            <div class="my-rank">
                <div class="rank-info">
                    <span class="rank-position">#42</span>
                    <span class="rank-name">–í–∏</span>
                    <span class="rank-points">248 –æ—á–æ–∫</span>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="script.js"></script>
    <script src="map.js"></script>
</body>
</html>